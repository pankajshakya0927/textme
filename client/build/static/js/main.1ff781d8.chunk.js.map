{"version":3,"sources":["assets/images/profile.png","shared/Utils.js","context/AuthContext.js","components/Toastr/Toastr.js","components/ChatBox/ChatBox.js","configurations/config.js","context/FriendsContext.js","components/ChatTabs/ChatTabs.js","components/AddFriends/AddFriends.js","components/Navbar/Navbar.js","components/Signup/Signup.js","components/Login/Login.js","components/Home/Homepage.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","Utils","setItemToLocalStorage","key","value","localStorage","setItem","getItemFromLocalStorage","getItem","getDefaultToastrOptions","show","variant","title","message","getSuccessToastrOptions","getErrorToastrOptions","logout","clear","AuthContext","createContext","AuthContextProvider","props","_useState","useState","_useState2","Object","slicedToArray","isLoggedIn","setIsLoggedIn","_useState3","_useState4","username","setUsername","current_user","JSON","parse","react_default","a","createElement","Provider","children","Toastr","ToastContainer","position","className","Toast","onClose","onHide","delay","autohide","bg","toLowerCase","Header","src","alt","Body","ChatBox","typingTimer","useContext","setMessage","typingStatus","setTypingStatus","options","utils","_useState5","_useState6","toastr","setToaster","lastMessageRef","useRef","useEffect","current","scrollIntoView","behavior","messages","socket","on","typingData","clearTimeout","setTimeout","Fragment","Toastr_Toastr","Card","Button","onClick","setSelectedChat","io_index_esm","size","chatWith","ButtonGroup","aria-label","index_esm","color","fc_index_esm","map","msg","ListGroup","from","Item","to","text","ref","Footer","Form","InputGroup","bi_index_esm","gr_index_esm","Control","placeholder","onChange","e","target","onKeyDown","concat","emit","type","id","preventDefault","messageReq","chatId","handleSendMessage","config","apiBaseUrl","FriendsContext","FriendsContextProvider","updatedFriends","setUpdatedFriends","io","connect","transports","ChatTabs","friends","setFriends","chats","setChats","setMessages","_useState7","_useState8","newMessage","setNewMessage","_useState9","_useState10","tab","setTab","_useState11","_useState12","selectedChat","_useState13","_useState14","setChatId","_useState15","window","innerWidth","_useState16","width","setWidth","handleWindowSizeChange","addEventListener","removeEventListener","isMobile","access_token","reqConfig","headers","Content-type","Authorization","shouldFetch","history","useHistory","_useState17","_useState18","auth","fetchChats","fetchFriends","prev","toConsumableArray","handleSelectFriend","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","friend","chatReq","wrap","_context","next","members","axios","post","then","resp","data","chatRes","find","member","chat","_id","fetchMessages","error","errorOptions","response","catch","console","stop","_x","_x2","apply","this","arguments","_ref2","_callee2","_context2","get","push","_ref3","_callee3","_context3","forEach","handleSetTab","Tab","Container","Row","length","Col","sm","style","display","horizontal","action","href","handleSelectChat","require","data-holder-rendered","role","Content","Pane","eventKey","ChatBox_ChatBox","AddFriends","search","setSearch","handleClose","handleAddFriend","AddFriends_regeneratorRuntime","addUser","log","successOptions","Modal","closeButton","Title","users","filter","usernames","includes","user","NavbarOffCanvas","setShow","setUsers","_useContext","handleOnShow","navExpanded","setNavExpanded","closeNavBar","handleLogin","handleSignup","handleLogout","fetchAllUsers","Navbar_regeneratorRuntime","components_AddFriends_AddFriends","expand","Navbar","sticky","expanded","fluid","Brand","marginRight","hi_index_esm","Toggle","aria-controls","Offcanvas","aria-labelledby","placement","ai_index_esm","Nav","Link","path","NavDropdown","align","Signup","passwordType","setPasswordType","passwordInput","setPasswordInput","password","setPassword","securityQ","setSecurityQ","securityA","setSecurityA","signupHandler","Signup_regeneratorRuntime","event","Group","controlId","Label","Text","muted","bs_index_esm","paddingRight","Select","selected","disabled","label","ques","Login","loginHandler","Login_regeneratorRuntime","stringify","Homepage","App","FriendsContext_FriendsContextProvider","react_router_dom","Navbar_Navbar","react_router","exact","component","Signup_Signup","Login_Login","components_ChatTabs_ChatTabs","ReactDOM","createRoot","document","getElementById","render","AuthContext_AuthContextProvider","src_App"],"mappings":"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","file":"static/js/main.1ff781d8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/profile.2a2b6c5a.png\";","export default {\n  setItemToLocalStorage: (key, value) => {\n    localStorage.setItem(key, value);\n  },\n\n  getItemFromLocalStorage: (key) => {\n    return localStorage.getItem(key);\n  },\n\n  getDefaultToastrOptions: () => {\n    const options = {\n      show: false,\n      variant: \"\",\n      title: \"\",\n      message: \"\",\n    };\n    return options;\n  },\n\n  getSuccessToastrOptions: (message) => {\n    const options = {\n      show: true,\n      variant: \"Success\",\n      title: \"Success\",\n      message: message,\n    };\n    return options;\n  },\n\n  getErrorToastrOptions: (title, message) => {\n    const options = {\n      show: true,\n      variant: \"Danger\",\n      title: title,\n      message: message,\n    };\n    return options;\n  },\n\n  logout: () => {\n    localStorage.clear();\n  }\n};\n","import React, { createContext, useState } from \"react\";\nimport Utils from \"../shared/Utils\";\n\nexport const AuthContext = createContext([]);\n\nexport const AuthContextProvider = (props) => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [username, setUsername] = useState(null);\n\n  // reloading page loses isLoggedIn context value therefore, check for isLoggedIn stored in localStorage\n  if (!isLoggedIn && Utils.getItemFromLocalStorage(\"isLoggedIn\")) {\n    const current_user = JSON.parse(Utils.getItemFromLocalStorage(\"current_user\"));\n    setIsLoggedIn(true);\n    setUsername(current_user.username);\n  }\n\n  return (\n  <AuthContext.Provider value={{isLoggedIn, setIsLoggedIn, username}}>\n    {props.children}\n  </AuthContext.Provider>\n  );\n};","import React from \"react\";\n\nimport ToastContainer from \"react-bootstrap/ToastContainer\";\nimport Toast from \"react-bootstrap/Toast\";\n\nfunction Toastr(props) {\n  const handleClose = () => {\n    props.onHide();\n  };\n\n  return (\n    <ToastContainer position=\"top-end\" className=\"p-3\">\n      <Toast show={props.show} onClose={handleClose} delay={5000} autohide className=\"d-inline-block m-1\" bg={props.variant.toLowerCase()}>\n        <Toast.Header>\n          <img src=\"holder.js/20x20?text=%20\" className=\"rounded me-2\" alt=\"\" />\n          <strong className=\"me-auto\">{props.title}</strong>\n        </Toast.Header>\n        <Toast.Body className=\"text-white\">{props.message}</Toast.Body>\n      </Toast>\n    </ToastContainer>\n  );\n}\n\nexport default Toastr;\n","import React, { useState, useContext, useEffect, useRef } from \"react\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport { MdCall } from \"react-icons/md\";\nimport { FcVideoCall } from \"react-icons/fc\";\nimport { BiSmile } from \"react-icons/bi\";\nimport { GrAttachment } from \"react-icons/gr\";\nimport { IoMdArrowRoundBack } from \"react-icons/io\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\n\nimport { AuthContext } from \"../../context/AuthContext\";\nimport Toastr from \"../Toastr/Toastr\";\nimport utils from \"../../shared/Utils\";\n\nimport \"./ChatBox.css\";\n\nexport default function ChatBox(props) {\n  const { isLoggedIn } = useContext(AuthContext);\n  const { username } = useContext(AuthContext);\n  const [message, setMessage] = useState(\"\");\n  const [typingStatus, setTypingStatus] = useState(\"\");\n\n  const options = utils.getDefaultToastrOptions();\n  const [toastr, setToaster] = useState(options);\n  const handleOnHide = () => {\n    setToaster(options);\n  };\n  const lastMessageRef = useRef(null);\n  let typingTimer;\n\n  const handleTyping = () => {\n    let typingData = {\n      text: `${username} is typing...`,\n      from: username,\n      to: props.chatWith\n    }\n    props.socket.emit('typing', typingData);\n  }\n\n  const handleSendMessage = (e) => {\n    e.preventDefault();\n\n    if (isLoggedIn && message) {\n      const messageReq = {\n        chatId: props.chatId,\n        message: message,\n        from: username,\n        to: props.chatWith\n      };\n\n      props.socket.emit(\"sendMessage\", messageReq);\n      setMessage(\"\");\n    }\n  };\n\n  useEffect(() => {\n    // scroll to bottom every time messages change\n    lastMessageRef.current.scrollIntoView({ behavior: \"smooth\" });\n  }, [props.messages]);\n\n  useEffect(() => {\n    props.socket.on('typingStatus', (typingData) => {\n      clearTimeout(typingTimer);\n      setTypingStatus(typingData);\n      typingTimer = setTimeout(() => {\n        setTypingStatus(\"\");\n      }, 1000);\n    });\n    lastMessageRef.current.scrollIntoView({ behavior: \"smooth\" });\n  }, [typingStatus]);\n\n  return (\n    <>\n      <Toastr show={toastr.show} onHide={handleOnHide} variant={toastr.variant} title={toastr.title} message={toastr.message} />\n\n      <Card className=\"box\">\n        <Card.Header className=\"d-flex align-items-center justify-content-between\">\n          <div className=\"flex\">\n            <Button className=\"back-btn\" variant=\"light\" onClick={() => props.setSelectedChat(null)}>\n              <IoMdArrowRoundBack size={30} />\n            </Button>\n            <h4 className=\"word-wrap\">{props.chatWith}</h4>\n          </div>\n          <div>\n            <ButtonGroup aria-label=\"Call\">\n              <Button variant=\"light\">\n                <MdCall color=\"rgb(76, 175, 80)\" size={25} />\n              </Button>\n              <Button variant=\"light\">\n                <FcVideoCall size={30} />\n              </Button>\n            </ButtonGroup>\n          </div>\n        </Card.Header>\n        <Card.Body className=\"overflow-auto chat-box\">\n          {props.messages.map((msg, key) => (\n            <ListGroup key={key} className={msg.from === username ? \"align-items-end mb-2\" : \"align-items-start mb-2\"}>\n              <ListGroup.Item variant={msg.from === username ? \"primary\" : \"\"} key={key}>\n                {msg.message}\n              </ListGroup.Item>\n              {/* <span>{new Date(msg.createdAt).toDateString()}</span> */}\n            </ListGroup>\n          ))}\n          {\n            props.chatWith === typingStatus.from && username === typingStatus.to ? <span className=\"typing\">{typingStatus.text}</span> : <span></span>\n          }\n          <div ref={lastMessageRef}></div>\n        </Card.Body>\n        <Card.Footer>\n          <Form>\n            <InputGroup>\n              <Button variant=\"outline-secondary\">\n                <BiSmile size={20} />\n              </Button>\n              <Button variant=\"outline-secondary\">\n                <GrAttachment size={17} />\n              </Button>\n              <Form.Control placeholder=\"Enter message...\" aria-label=\"Enter message\" value={message} onChange={(e) => setMessage(e.target.value)} onKeyDown={handleTyping} />\n              <Button type=\"Submit\" variant=\"primary\" id=\"send\" onClick={(e) => handleSendMessage(e)}>\n                Send\n              </Button>\n            </InputGroup>\n          </Form>\n        </Card.Footer>\n      </Card>\n    </>\n  );\n}\n","export default {\n    apiBaseUrl: \"http://localhost:3001/api\"\n}","import React, { createContext, useState } from \"react\";\n\nexport const FriendsContext = createContext([]);\n\nexport const FriendsContextProvider = (props) => {\n  const [updatedFriends, setUpdatedFriends] = useState(null);\n\n  return (\n  <FriendsContext.Provider value={{updatedFriends, setUpdatedFriends}}>\n    {props.children}\n  </FriendsContext.Provider>\n  );\n};\n\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport io from \"socket.io-client\";\n\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport Col from \"react-bootstrap/Col\";\nimport Row from \"react-bootstrap/Row\";\nimport Tab from \"react-bootstrap/Tab\";\n\nimport ChatBox from \"../ChatBox/ChatBox\";\nimport Toastr from \"../Toastr/Toastr\";\nimport utils from \"../../shared/Utils\";\nimport config from \"../../configurations/config\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport { FriendsContext } from \"../../context/FriendsContext\";\nimport \"./ChatTabs.css\";\n\nconst socket = io.connect(\"http://localhost:3001/\", { transports: ['websocket'] });\n\nfunction ChatTabs() {\n  const [friends, setFriends] = useState([]);\n  const [chats, setChats] = useState([]);\n  const [messages, setMessages] = useState([]);\n  const [newMessage, setNewMessage] = useState([]);\n  const [tab, setTab] = useState(1);\n  const [selectedChat, setSelectedChat] = useState();\n  const [chatId, setChatId] = useState();\n  const { updatedFriends } = useContext(FriendsContext);\n  const { isLoggedIn } = useContext(AuthContext);\n  const { username } = useContext(AuthContext);\n  const [width, setWidth] = useState(window.innerWidth);\n\n  function handleWindowSizeChange() {\n    setWidth(window.innerWidth);\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', handleWindowSizeChange);\n    return () => {\n      window.removeEventListener('resize', handleWindowSizeChange);\n    }\n  }, [width]);\n\n  const isMobile = width <= 576;\n\n  const access_token = utils.getItemFromLocalStorage(\"access_token\");\n\n  const reqConfig = {\n    headers: {\n      \"Content-type\": \"application/json\",\n      Authorization: `Bearer ${access_token}`,\n    },\n  };\n\n  const shouldFetch = useRef(true);\n  const history = useHistory();\n\n  const options = utils.getDefaultToastrOptions();\n  const [toastr, setToaster] = useState(options);\n  const handleOnHide = () => {\n    setToaster(options);\n  };\n\n  if (updatedFriends && updatedFriends !== friends) {\n    setFriends(updatedFriends);\n  }\n\n  useEffect(() => {\n    socket.auth = { username };\n  }, [username]);\n\n  useEffect(() => {\n    if (isLoggedIn && shouldFetch.current) {\n      shouldFetch.current = false;\n      fetchChats();\n      fetchFriends();\n    }\n\n    socket.on(\"fetchMessages\", (messages) => {\n      setMessages(messages);\n    })\n  }, []);\n\n  useEffect(() => {\n    socket.on(\"newMessageReceived\", (newMessage) => {\n      setNewMessage(newMessage);\n    })\n  }, [messages]);\n\n  useEffect(() => {\n    if (newMessage && newMessage.from === selectedChat) setMessages((prev) => [...prev, newMessage]);\n  }, [newMessage]);\n\n  const handleSelectFriend = async (friend, e) => {\n    e.preventDefault();\n\n    if (isLoggedIn) {\n      const chatReq = {\n        members: [friend, username],\n      };\n\n      await axios\n        .post(`${config.apiBaseUrl}/chat/createChat`, chatReq, reqConfig)\n        .then(\n          (resp) => {\n            if (resp && resp.data && resp.data.data) {\n              const chatRes = resp.data.data;\n              fetchChats();\n\n              const chatWith = chatRes.members.find((member) => member !== username);\n              setSelectedChat(chatWith);\n              setTab(1); // Clicking on friend should open the chat with them\n\n              const chat = {\n                chatId: chatRes._id,\n                chatWith\n              }\n              fetchMessages(chat);\n            }\n          },\n          (error) => {\n            const errorOptions = utils.getErrorToastrOptions(error.response.data.error, error.response.data.message);\n            setToaster(errorOptions);\n          }\n        )\n        .catch((error) => {\n          console.error(error);\n        });\n    }\n  };\n\n  const fetchFriends = async () => {\n    await axios\n      .get(`${config.apiBaseUrl}/user/fetchFriends`, reqConfig)\n      .then((resp) => {\n        if (resp && resp.data && resp.data.data) {\n          setFriends(resp.data.data);\n        }\n      })\n      .catch((error) => {\n        const errorOptions = utils.getErrorToastrOptions(error.response.data.error, error.response.data.message);\n        setToaster(errorOptions);\n        history.push(\"/login\");\n        utils.logout();\n      });\n  };\n\n  const fetchChats = async () => {\n    if (isLoggedIn) {\n      await axios\n        .get(`${config.apiBaseUrl}/chat/fetchChats`, reqConfig)\n        .then((resp) => {\n          if (resp && resp.data && resp.data.data) {\n            const chats = [];\n            resp.data.data.forEach((chat) => {\n              const chatWith = chat.members.find((member) => member !== username);\n              chats.push({\n                chatId: chat._id,\n                chatWith: chatWith,\n              });\n            });\n            setChats(chats);\n          }\n        })\n        .catch((error) => {\n          const errorOptions = utils.getErrorToastrOptions(error.response.data.error, error.response.data.message);\n          setToaster(errorOptions);\n        });\n    }\n  };\n\n  const fetchMessages = (chat) => {\n    const chatId = chat.chatId;\n    setChatId(chatId);\n    setSelectedChat(chat.chatWith);\n\n    if (isLoggedIn && chatId) {\n      socket.emit(\"fetchMessages\", chat);\n    }\n  };\n\n  const handleSelectChat = (chat, e) => {\n    e.preventDefault();\n    fetchMessages(chat);\n  };\n\n  const handleSetTab = (tab, e) => {\n    e.preventDefault();\n    setTab(tab);\n  };\n\n  return (\n    <>\n      <Toastr show={toastr.show} onHide={handleOnHide} variant={toastr.variant} title={toastr.title} message={toastr.message} />\n      <Tab.Container id=\"list-group-tabs\">\n        <Row className={friends && friends.length ? \"tabs g-1\" : \"hide\"}>\n          {isMobile}\n          <Col sm={4} style={{ display: isMobile && selectedChat ? 'none' : 'block' }}>\n            <ListGroup>\n              <ListGroup.Item>\n                <ListGroup horizontal>\n                  <ListGroup.Item className={tab === 1 ? 'selected' : ''} action onClick={(e) => handleSetTab(1, e)}>\n                    Chats\n                  </ListGroup.Item>\n                  <ListGroup.Item className={tab === 2 ? 'selected' : ''} action onClick={(e) => handleSetTab(2, e)}>\n                    Friends\n                  </ListGroup.Item>\n                </ListGroup>\n              </ListGroup.Item>\n              {tab === 1 && (\n                <div className=\"chats-tab\">\n                  {chats.map((chat, key) => (\n                    <ListGroup.Item key={key} action href={chat.chatWith} onClick={(e) => handleSelectChat(chat, e)}>\n                      <img className=\"rounded-circle\" alt=\"profile\" src={require(\"../../assets/images/profile.png\")} width=\"50px\" data-holder-rendered=\"true\" />\n                      <span className=\"mg-l10 word-wrap\">{chat.chatWith}</span>\n                    </ListGroup.Item>\n                  ))}\n                </div>\n              )}\n              {tab === 2 && (\n                <div className=\"friends-tab\">\n                  {friends.map((friend, key) => (\n                    <ListGroup.Item key={key} action href={friend} onClick={(e) => handleSelectFriend(friend, e)}>\n                      <img className=\"rounded-circle\" alt=\"profile\" src={require(\"../../assets/images/profile.png\")} width=\"50px\" data-holder-rendered=\"true\" />\n                      <span className=\"mg-l10 word-wrap\">{friend}</span>\n                    </ListGroup.Item>\n                  ))}\n                </div>\n              )}\n            </ListGroup>\n          </Col>\n          <Col sm={8} style={{ display: isMobile && !selectedChat ? 'none' : 'block' }}>\n            {!selectedChat ? (\n              <h5 className=\"align-center\">\n                Choose a chat to start the conversation &nbsp;\n                <span className=\"emoji monkey\" role=\"img\" aria-label=\"monkey\"></span>\n              </h5>\n            ) : null}\n            <Tab.Content>\n              <Tab.Pane eventKey={selectedChat}>\n                <ChatBox chatId={chatId} chatWith={selectedChat} setSelectedChat={setSelectedChat} messages={messages} setMessages={setMessages} socket={socket} />\n              </Tab.Pane>\n            </Tab.Content>\n          </Col>\n        </Row>\n\n        <div className={friends && friends.length ? \"hide\" : \"container\"}>\n          {isLoggedIn ? (\n            <h5>\n              Hi there!{\" \"}\n              <span role=\"img\" aria-label=\"wave\" className=\"wave\">\n                👋\n              </span>{\" \"}\n              Welcome to TextMe!!! <br /><br />\n              Add your first friend to get the fun started.\n            </h5>\n          ) : (\n            <h5>\n              Hi there!{\" \"}\n              <span role=\"img\" aria-label=\"wave\" className=\"wave\">\n                👋\n              </span>{\" \"}\n              Welcome to TextMe!!!\n            </h5>\n          )}\n        </div>\n      </Tab.Container>\n    </>\n  );\n}\n\nexport default ChatTabs;\n","import React, { useContext, useState } from \"react\";\nimport axios from \"axios\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Modal from \"react-bootstrap/Modal\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport Form from \"react-bootstrap/Form\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport { FcSearch } from \"react-icons/fc\";\n\nimport Toastr from \"../Toastr/Toastr\";\nimport config from \"../../configurations/config\";\nimport utils from \"../../shared/Utils\";\nimport { FriendsContext } from \"../../context/FriendsContext\";\nimport \"./AddFriends.css\";\n\nfunction AddFriends(props) {\n  const { setUpdatedFriends } = useContext(FriendsContext);\n  const [search, setSearch] = useState();\n\n  const options = utils.getDefaultToastrOptions();\n  const [toastr, setToaster] = useState(options);\n  const handleOnHide = () => {\n    setToaster(options);\n  };\n\n  const handleSearch = () => {\n    setSearch(search);\n  };\n\n  const handleClose = () => {\n    setSearch(\"\");\n    props.onHide();\n  };\n\n  const handleAddFriend = async (username) => {\n    const access_token = utils.getItemFromLocalStorage(\"access_token\");\n    const reqConfig = {\n      headers: {\n        \"Content-type\": \"application/json\",\n        Authorization: `Bearer ${access_token}`,\n      },\n    };\n\n    const addUser = {\n      username: username,\n    };\n\n    await axios\n      .post(`${config.apiBaseUrl}/user/addFriend`, addUser, reqConfig)\n      .then((resp) => {\n        if (resp && resp.data) {\n          console.log(resp.data, resp.data.data);\n          setUpdatedFriends(resp.data.data);\n          const successOptions = utils.getSuccessToastrOptions(resp.data.message);\n          setToaster(successOptions);\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <>\n      <Toastr show={toastr.show} onHide={handleOnHide} variant={toastr.variant} title={toastr.title} message={toastr.message} />\n      <Modal show={props.show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Add Friends</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <ListGroup className={search ? \"add-friend\" : \"\"}>\n            <ListGroup.Item>\n              <InputGroup className=\"search\">\n                <Form.Control type=\"text\" placeholder=\"Search username...\" aria-label=\"Search username\" onChange={(e) => setSearch(e.target.value)} />\n                <Button variant=\"outline-secondary\" id=\"search\" onClick={handleSearch}>\n                  <FcSearch />\n                </Button>\n              </InputGroup>\n            </ListGroup.Item>\n            {props.users\n              .filter((usernames) => search && usernames.includes(search))\n              .map((user, key) => (\n                <ListGroup.Item key={key} className=\"users-list\">\n                  <span>{user}</span>\n                  <Button variant=\"primary\" onClick={() => handleAddFriend(user)}>\n                    Add\n                  </Button>\n                </ListGroup.Item>\n              ))}\n          </ListGroup>\n        </Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" onClick={handleClose}>\n            Close\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </>\n  );\n}\n\nexport default AddFriends;\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Nav from \"react-bootstrap/Nav\";\nimport Navbar from \"react-bootstrap/Navbar\";\nimport NavDropdown from \"react-bootstrap/NavDropdown\";\nimport Offcanvas from \"react-bootstrap/Offcanvas\";\nimport ButtonGroup from \"react-bootstrap/ButtonGroup\";\nimport { HiUserAdd } from \"react-icons/hi\";\nimport { MdNotifications } from \"react-icons/md\";\nimport { AiOutlineClose } from \"react-icons/ai\";\n\nimport AddFriends from \"../AddFriends/AddFriends\";\nimport { AuthContext } from \"../../context/AuthContext\";\nimport Toastr from \"../Toastr/Toastr\";\nimport utils from \"../../shared/Utils\";\nimport config from \"../../configurations/config\";\n\nfunction NavbarOffCanvas() {\n  const [show, setShow] = useState(false);\n  const [users, setUsers] = useState([]);\n  const history = useHistory();\n  const { isLoggedIn, setIsLoggedIn } = useContext(AuthContext);\n  const shouldFetch = useRef(true); // useEffect runs twice thereby calling the api twice, this will avoid that\n\n  let options = utils.getDefaultToastrOptions();\n  const [toastr, setToaster] = useState(options);\n  const current_user = JSON.parse(utils.getItemFromLocalStorage('current_user'));\n\n  const handleOnShow = () => [setShow(true)];\n  const handleOnHide = () => [setShow(false)];\n\n  const handleOnHideToastr = () => {\n    setToaster(options);\n  };\n\n  const [navExpanded, setNavExpanded] = useState(false);\n  const closeNavBar = () => {\n    setNavExpanded(false);\n  }\n\n  const handleLogin = () => {\n    history.push(\"/login\");\n    closeNavBar();\n  }\n\n  const handleSignup = () => {\n    history.push(\"/signup\");\n    closeNavBar();\n  }\n\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    history.push(\"/login\");\n    utils.logout();\n  }\n\n  useEffect(() => {\n    fetchAllUsers();\n  }, [isLoggedIn]);\n\n  const fetchAllUsers = async () => {\n    if (isLoggedIn && shouldFetch.current) {\n      shouldFetch.current = false;\n      const access_token = utils.getItemFromLocalStorage(\"access_token\");\n\n      const reqConfig = {\n        headers: {\n          \"Content-type\": \"application/json\",\n          Authorization: `Bearer ${access_token}`,\n        },\n      };\n\n      await axios\n        .get(`${config.apiBaseUrl}/user/fetchAllUsers`, reqConfig)\n        .then((resp) => {\n          if (resp && resp.data && resp.data.data) setUsers(resp.data.data);\n        })\n        .catch((error) => {\n          const errorOptions = utils.getErrorToastrOptions(error.response.data.error, error.response.data.message);\n          setToaster(errorOptions);\n        });\n    }\n  }\n\n  const navigateTo = (path) => {\n    history.push(path);\n    closeNavBar();\n  }\n\n  return (\n    <>\n      <AddFriends show={show} users={users.length ? users : []} onHide={handleOnHide}></AddFriends>\n      <Toastr show={toastr.show} onHide={handleOnHideToastr} variant={toastr.variant} title={toastr.title} message={toastr.message} />\n\n      {[\"md\"].map((expand) => (\n        <Navbar sticky=\"top\" bg=\"primary\" variant=\"dark\" key={expand} expand={expand} expanded={navExpanded}>\n          <Container fluid>\n            <Navbar.Brand href=\"#\">TextMe</Navbar.Brand>\n            {isLoggedIn ? (\n              <div>\n                <ButtonGroup aria-label=\"Controls\" style={{ marginRight: \"10px\" }}>\n                  <Button variant=\"primary\" onClick={handleOnShow}>\n                    <HiUserAdd size={28} />\n                  </Button>\n                  <Button variant=\"primary\">\n                    <MdNotifications size={28} />\n                  </Button>\n                </ButtonGroup>\n              </div>\n            ) : null}\n            <Navbar.Toggle aria-controls={`offcanvasNavbar-expand-${expand}`} onClick={() => setNavExpanded(navExpanded ? false : \"expanded\")}/>\n            <Navbar.Offcanvas id={`offcanvasNavbar-expand-${expand}`} aria-labelledby={`offcanvasNavbarLabel-expand-${expand}`} placement=\"end\">\n              <Offcanvas.Header>\n              <Offcanvas.Title id={`offcanvasNavbarLabel-expand-${expand}`}>TextMe</Offcanvas.Title>\n              <AiOutlineClose className=\"pointer\" size={28} onClick={closeNavBar} />\n              </Offcanvas.Header>\n              <Offcanvas.Body>\n                <Nav className=\"justify-content-end flex-grow-1 pe-3\">\n                  <Nav.Link onClick={() => navigateTo('/')}>Home</Nav.Link>\n                  {/* <Nav.Link>Contact Us</Nav.Link> */}\n                  {isLoggedIn ? (\n                    <NavDropdown title={current_user.username} align=\"end\" id={`offcanvasNavbarDropdown-expand-${expand}`}>\n                      {/* <NavDropdown.Item>Update Profile</NavDropdown.Item>\n                      <NavDropdown.Item>Account Settings</NavDropdown.Item> */}\n                      {/* <NavDropdown.Divider /> */}\n                      <NavDropdown.Item onClick={handleLogout}>Logout</NavDropdown.Item>\n                    </NavDropdown>\n                  ) : (\n                    <>\n                      <Button variant=\"primary\" onClick={handleLogin}>Log in</Button>\n                      <Button variant=\"light\" onClick={handleSignup}>Sign up</Button>\n                    </>\n                  )}\n                </Nav>\n              </Offcanvas.Body>\n            </Navbar.Offcanvas>\n          </Container>\n        </Navbar>\n      ))}\n    </>\n  );\n}\n\nexport default NavbarOffCanvas;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\n\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\nimport InputGroup from \"react-bootstrap/InputGroup\";\nimport { BsEye, BsEyeSlash } from \"react-icons/bs\";\n\nimport Toastr from \"../Toastr/Toastr\";\nimport config from \"../../configurations/config\";\nimport utils from \"../../shared/Utils\";\n\nimport \"../../App.css\";\n\nfunction Signup() {\n  const securityQs = [\n    {\n      value: 1,\n      label: \"What was your childhood nickname?\",\n    },\n    {\n      value: 2,\n      label: \"In what city did you meet your spouse/significant other?\",\n    },\n    {\n      value: 3,\n      label: \"What is the name of your favorite childhood friend?\",\n    },\n    {\n      value: 4,\n      label: \"What was the last name of your favorite childhood teacher?\",\n    },\n    {\n      value: 5,\n      label: \"What is the name of your youngest child?\",\n    },\n    {\n      value: 6,\n      label: \"What is your sibling’s birthday month and year?\",\n    },\n    {\n      value: 7,\n      label: \"What school did you attend for sixth grade?\",\n    },\n    {\n      value: 8,\n      label: \"What was the name of your first stuffed animal?\",\n    },\n    {\n      value: 9,\n      label: \"In what city or town did your mother and father meet?\",\n    },\n    {\n      value: 10,\n      label: \"What was your childhood phone number including area code?\",\n    },\n    {\n      value: 11,\n      label: \"Where were you when you had your first kiss?\",\n    },\n    {\n      value: 12,\n      label: \"What is the name of the place your wedding reception was held?\",\n    },\n    {\n      value: 13,\n      label: \"What time of the day were you born?\",\n    },\n    {\n      value: 14,\n      label: \"What are the last 4 digits of your credit/debit card?\",\n    },\n    {\n      value: 15,\n      label: \"What is your grandmother's first name?\",\n    },\n    {\n      value: 16,\n      label: \"What year did you graduate from High School?\",\n    },\n  ];\n\n  const [passwordType, setPasswordType] = useState(\"password\");\n  const [passwordInput, setPasswordInput] = useState(\"\");\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const [securityQ, setSecurityQ] = useState();\n  const [securityA, setSecurityA] = useState();\n\n  let options = utils.getDefaultToastrOptions();\n  const [toastr, setToaster] = useState(options);\n  const handleOnHide = () => {\n    setToaster(options);\n  };\n\n  const handlePasswordChange = (event) => {\n    setPasswordInput(event.target.value);\n    setPassword(event.target.value);\n  };\n\n  const togglePasswordType = () => {\n    if (passwordType === \"password\") {\n      setPasswordType(\"text\");\n    } else setPasswordType(\"password\");\n  };\n\n  const signupHandler = async (event) => {\n    event.preventDefault();\n\n    if (!username || !password) {\n      const errorOptions = utils.getErrorToastrOptions(\"Error\", \"Username or Password can't be empty\");\n      setToaster(errorOptions);\n    } else {\n      const reqConfig = {\n        \"Content-type\": \"application/json\",\n      };\n\n      await axios\n        .post(`${config.apiBaseUrl}/user/signup`, { username, password, securityQ, securityA }, reqConfig)\n        .then((resp) => {\n          const successOptions = utils.getSuccessToastrOptions(resp.data.message);\n          setToaster(successOptions);\n        })\n        .catch((error) => {\n          const errorOptions = utils.getErrorToastrOptions(error.response.data.error, error.response.data.message);\n          setToaster(errorOptions);\n        });\n    }\n  };\n\n  return (\n    <Container>\n      <Toastr show={toastr.show} onHide={handleOnHide} variant={toastr.variant} title={toastr.title} message={toastr.message} />\n      <Row>\n        <Col className=\"container d-inline-flex align-items-center justify-content-center\">\n          <Form>\n            <Form.Group className=\"mb-3\" controlId=\"username\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control type=\"text\" placeholder=\"Enter Username\" onChange={(e) => setUsername(e.target.value)} />\n              <Form.Text id=\"usernameHelp\" muted>\n                Username should be unique\n              </Form.Text>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"password\">\n              <Form.Label>Password</Form.Label>\n              <InputGroup>\n                <Form.Control type={passwordType} onChange={handlePasswordChange} value={passwordInput} placeholder=\"Password\" />\n                <Button variant=\"outline-secondary\" id=\"search\" onClick={togglePasswordType}>\n                  {passwordType === \"password\" ? <BsEyeSlash /> : <BsEye />}\n                </Button>\n              </InputGroup>\n            </Form.Group>\n\n            <Form.Group className=\"mb-1\" controlId=\"securityQ\">\n              <Form.Label style={{ paddingRight: \"2px\" }}>Select a security question</Form.Label>\n              <Form.Text id=\"passwordResetHelp\" muted>\n                (This will be used for password recovery)\n              </Form.Text>\n              <Form.Select className=\"mb-2\" aria-label=\"Security Question\" onChange={(e) => setSecurityQ(e.target.value)}>\n                <option selected=\"true\" disabled=\"true\">Open this select menu</option>\n                {securityQs.map((ques, key) => {\n                  return (\n                    <option key={key} value={ques.value}>\n                      {ques.label}\n                    </option>\n                  );\n                })}\n              </Form.Select>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"securityA\">\n              <Form.Control type=\"text\" placeholder=\"Answer\" onChange={(e) => setSecurityA(e.target.value)} />\n            </Form.Group>\n\n            <Button variant=\"primary\" type=\"Submit\" onClick={signupHandler}>\n              Signup\n            </Button>\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default Signup;\n","import React, { useContext } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport Form from \"react-bootstrap/Form\";\nimport Container from \"react-bootstrap/Container\";\nimport Row from \"react-bootstrap/Row\";\nimport Col from \"react-bootstrap/Col\";\n\nimport { AuthContext } from \"../../context/AuthContext\";\nimport config from \"../../configurations/config\";\nimport Toastr from \"../Toastr/Toastr\";\nimport utils from \"../../shared/Utils\";\nimport \"../../App.css\";\n\nfunction Login() {\n  const [username, setUsername] = useState();\n  const [password, setPassword] = useState();\n  const { setIsLoggedIn } = useContext(AuthContext);\n\n  let options = utils.getDefaultToastrOptions();\n  const [toastr, setToaster] = useState(options);\n\n  const handleOnHide = () => {\n    setToaster(options);\n  };\n\n  const history = useHistory();\n\n  const loginHandler = async (event) => {\n    event.preventDefault();\n\n    if (!username || !password) {\n      const errorOptions = utils.getErrorToastrOptions(\"Error\", \"Username or Password can't be empty\");\n      setToaster(errorOptions);\n    } else {\n      const reqConfig = {\n        headers: {\n          \"Content-type\": \"application/json\"\n        },\n      };\n\n      await axios\n        .post(`${config.apiBaseUrl}/user/login`, { username, password }, reqConfig)\n        .then((resp) => {\n          if (resp.data.data) {\n            utils.setItemToLocalStorage(\"access_token\", resp.data.data.access_token);\n            utils.setItemToLocalStorage(\"current_user\", JSON.stringify(resp.data.data.current_user));\n            utils.setItemToLocalStorage(\"isLoggedIn\", true);\n            setIsLoggedIn(true);\n            history.push(\"/chats\");\n          }\n        })\n        .catch((error) => {\n          const errorOptions = utils.getErrorToastrOptions(error.response.data.error, error.response.data.message);\n          setToaster(errorOptions);\n        });\n    }\n  };\n\n  return (\n    <Container>\n      <Toastr show={toastr.show} onHide={handleOnHide} variant={toastr.variant} title={toastr.title} message={toastr.message} />\n      <Row>\n        <Col className=\"container d-inline-flex align-items-center justify-content-center\">\n          <Form style={{ width: \"20em\" }}>\n            <Form.Group className=\"mb-3\" controlId=\"username\">\n              <Form.Label>Username</Form.Label>\n              <Form.Control type=\"text\" placeholder=\"Enter username\" onChange={(e) => setUsername(e.target.value)} />\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"password\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control type=\"password\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} />\n            </Form.Group>\n            <Button variant=\"primary\" type=\"Submit\" onClick={loginHandler}>\n              Login\n            </Button>\n          </Form>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default Login;\n","import React, { useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"react-bootstrap/Button\";\nimport { AiOutlineArrowRight } from \"react-icons/ai\";\n\nimport { AuthContext } from \"../../context/AuthContext\";\n\nexport default function Homepage() {\n  const { isLoggedIn } = useContext(AuthContext);\n  const history = useHistory();\n\n  const handleGoToChats = () => {\n    history.push(\"/chats\");\n  };\n\n  return (\n    <div className=\"container\">\n      {isLoggedIn ? (\n        <h5>\n          Hi there!{\" \"}\n          <span role=\"img\" aria-label=\"wave\" className=\"wave\">\n            👋\n          </span>{\" \"}\n          Welcome to TextMe!!! <br />\n          <Button variant=\"primary\" className=\"mt-3\" onClick={handleGoToChats}>\n            Go to Chats <AiOutlineArrowRight />\n          </Button>\n        </h5>\n      ) : (\n        <h5>\n          Hi there!{\" \"}\n          <span role=\"img\" aria-label=\"wave\" className=\"wave\">\n            👋\n          </span>{\" \"}\n          Welcome to TextMe!!!\n        </h5>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport ChatTabs from \"./components/ChatTabs/ChatTabs\";\nimport NavbarOffCanvas from \"./components/Navbar/Navbar\";\nimport Signup from \"./components/Signup/Signup\";\nimport Login from \"./components/Login/Login\";\n\nimport { FriendsContextProvider } from \"./context/FriendsContext\";\nimport \"./App.css\";\nimport Homepage from \"./components/Home/Homepage\";\n\nfunction App() {\n  return (\n    <FriendsContextProvider>\n      <Router>\n        <NavbarOffCanvas />\n        <Switch>\n          <Route exact path=\"/\" component={Homepage}>\n            <Homepage />\n          </Route>\n          <Route exact path=\"/signup\" component={Signup}>\n            <Signup />\n          </Route>\n          <Route exact path=\"/login\" component={Login}>\n            <Login />\n          </Route>\n          <Route exact path=\"/chats\" component={ChatTabs}>\n            <ChatTabs/>\n          </Route>\n        </Switch>\n      </Router>\n    </FriendsContextProvider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n);\n"],"sourceRoot":""}