(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(t,e,r){},125:function(t,e,r){t.exports=r.p+"static/media/profile.2a2b6c5a.png"},139:function(t,e,r){t.exports=r(188)},146:function(t,e,r){},172:function(t,e,r){},174:function(t,e,r){},181:function(t,e,r){},188:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(126),i=r.n(o),c=(r(146),r(60)),u=r(4),l=r(40),s=r(57),h=r(8),f=r(41),p=r.n(f),d=r(136),m=r(27),v=r(52),y=r(72),g=r(106),w=r(17),E=r(90),b=r(15),x=r(71),O=r(96),L=r(97),j=r(98),k=r(130),S=r(131),N=r(129),_={setItemToLocalStorage:function(t,e){localStorage.setItem(t,e)},getItemFromLocalStorage:function(t){return localStorage.getItem(t)},getDefaultToastrOptions:function(){return{show:!1,variant:"",title:"",message:""}},getSuccessToastrOptions:function(t){return{show:!0,variant:"Success",title:"Success",message:t}},getErrorToastrOptions:function(t,e){return{show:!0,variant:"Danger",title:t,message:e}},logout:function(){localStorage.clear()}},I=Object(n.createContext)([]),C=function(t){var e=Object(n.useState)(!1),r=Object(h.a)(e,2),o=r[0],i=r[1],c=Object(n.useState)(null),u=Object(h.a)(c,2),l=u[0],s=u[1];if(!o&&_.getItemFromLocalStorage("isLoggedIn")){var f=JSON.parse(_.getItemFromLocalStorage("current_user"));i(!0),s(f.username)}return a.a.createElement(I.Provider,{value:{isLoggedIn:o,setIsLoggedIn:i,username:l}},t.children)},T=r(128),F=r(107);var G=function(t){return a.a.createElement(T.a,{position:"top-end",className:"p-3"},a.a.createElement(F.a,{show:t.show,onClose:function(){t.onHide()},delay:5e3,autohide:!0,className:"d-inline-block m-1",bg:t.variant.toLowerCase()},a.a.createElement(F.a.Header,null,a.a.createElement("img",{src:"holder.js/20x20?text=%20",className:"rounded me-2",alt:""}),a.a.createElement("strong",{className:"me-auto"},t.title)),a.a.createElement(F.a.Body,{className:"text-white"},t.message)))};r(172);function P(t){var e,r=Object(n.useContext)(I).isLoggedIn,o=Object(n.useContext)(I).username,i=Object(n.useState)(""),c=Object(h.a)(i,2),u=c[0],l=c[1],s=Object(n.useState)(""),f=Object(h.a)(s,2),p=f[0],d=f[1],v=_.getDefaultToastrOptions(),y=Object(n.useState)(v),g=Object(h.a)(y,2),C=g[0],T=g[1],F=Object(n.useRef)(null);return Object(n.useEffect)(function(){F.current.scrollIntoView({behavior:"smooth"})},[t.messages]),Object(n.useEffect)(function(){t.socket.on("typingStatus",function(t){clearTimeout(e),d(t),e=setTimeout(function(){d("")},1e3)}),F.current.scrollIntoView({behavior:"smooth"})},[p]),a.a.createElement(a.a.Fragment,null,a.a.createElement(G,{show:C.show,onHide:function(){T(v)},variant:C.variant,title:C.title,message:C.message}),a.a.createElement(E.a,{className:"box"},a.a.createElement(E.a.Header,{className:"d-flex align-items-center justify-content-between"},a.a.createElement("div",{className:"flex"},a.a.createElement(w.a,{className:"back-btn",variant:"light",onClick:function(){return t.setSelectedChat(null)}},a.a.createElement(N.a,{size:30})),a.a.createElement("h4",{className:"word-wrap"},t.chatWith)),a.a.createElement("div",null,a.a.createElement(O.a,{"aria-label":"Call"},a.a.createElement(w.a,{variant:"light"},a.a.createElement(L.a,{color:"rgb(76, 175, 80)",size:25})),a.a.createElement(w.a,{variant:"light"},a.a.createElement(j.b,{size:30}))))),a.a.createElement(E.a.Body,{className:"overflow-auto chat-box"},t.messages.map(function(t,e){return a.a.createElement(m.a,{key:e,className:t.from===o?"align-items-end mb-2":"align-items-start mb-2"},a.a.createElement(m.a.Item,{variant:t.from===o?"primary":"",key:e},t.message))}),t.chatWith===p.from&&o===p.to?a.a.createElement("span",{className:"typing"},p.text):a.a.createElement("span",null),a.a.createElement("div",{ref:F})),a.a.createElement(E.a.Footer,null,a.a.createElement(b.a,null,a.a.createElement(x.a,null,a.a.createElement(w.a,{variant:"outline-secondary"},a.a.createElement(k.a,{size:20})),a.a.createElement(w.a,{variant:"outline-secondary"},a.a.createElement(S.a,{size:17})),a.a.createElement(b.a.Control,{placeholder:"Enter message...","aria-label":"Enter message",value:u,onChange:function(t){return l(t.target.value)},onKeyDown:function(){var e={text:"".concat(o," is typing..."),from:o,to:t.chatWith};t.socket.emit("typing",e)}}),a.a.createElement(w.a,{type:"Submit",variant:"primary",id:"send",onClick:function(e){return function(e){if(e.preventDefault(),r&&u){var n={chatId:t.chatId,message:u,from:o,to:t.chatWith};t.socket.emit("sendMessage",n),l("")}}(e)}},"Send"))))))}var W={apiBaseUrl:"https://textme.up.railway.app/api"},H=Object(n.createContext)([]),A=function(t){var e=Object(n.useState)(null),r=Object(h.a)(e,2),o=r[0],i=r[1];return a.a.createElement(H.Provider,{value:{updatedFriends:o,setUpdatedFriends:i}},t.children)};r(174);function B(){B=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(d=v);var y=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,o,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,a,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var U=d.a.connect("https://textme.up.railway.app/",{transports:["websocket"]});var D=function(){var t=Object(n.useState)([]),e=Object(h.a)(t,2),o=e[0],i=e[1],c=Object(n.useState)([]),f=Object(h.a)(c,2),d=f[0],w=f[1],E=Object(n.useState)([]),b=Object(h.a)(E,2),x=b[0],O=b[1],L=Object(n.useState)([]),j=Object(h.a)(L,2),k=j[0],S=j[1],N=Object(n.useState)(1),C=Object(h.a)(N,2),T=C[0],F=C[1],A=Object(n.useState)(),D=Object(h.a)(A,2),z=D[0],M=D[1],Y=Object(n.useState)(),R=Object(h.a)(Y,2),J=R[0],Q=R[1],q=Object(n.useContext)(H).updatedFriends,K=Object(n.useContext)(I).isLoggedIn,V=Object(n.useContext)(I).username,X=Object(n.useState)(window.innerWidth),Z=Object(h.a)(X,2),$=Z[0],tt=Z[1];function et(){tt(window.innerWidth)}Object(n.useEffect)(function(){return window.addEventListener("resize",et),function(){window.removeEventListener("resize",et)}},[$]);var rt=$<=576,nt=_.getItemFromLocalStorage("access_token"),at={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(nt)}},ot=Object(n.useRef)(!0),it=Object(u.f)(),ct=_.getDefaultToastrOptions(),ut=Object(n.useState)(ct),lt=Object(h.a)(ut,2),st=lt[0],ht=lt[1];q&&q!==o&&i(q),Object(n.useEffect)(function(){U.auth={username:V}},[V]),Object(n.useEffect)(function(){K&&ot.current&&(ot.current=!1,dt(),pt()),U.on("fetchMessages",function(t){O(t)})},[]),Object(n.useEffect)(function(){U.on("newMessageReceived",function(t){S(t)})},[x]),Object(n.useEffect)(function(){k&&k.from===z&&O(function(t){return[].concat(Object(s.a)(t),[k])})},[k]);var ft=function(){var t=Object(l.a)(B().mark(function t(e,r){var n;return B().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),!K){t.next=5;break}return n={members:[e,V]},t.next=5,p.a.post("".concat(W.apiBaseUrl,"/chat/createChat"),n,at).then(function(t){if(t&&t.data&&t.data.data){var e=t.data.data;dt();var r=e.members.find(function(t){return t!==V});M(r),F(1);var n={chatId:e._id,chatWith:r};mt(n)}},function(t){var e=_.getErrorToastrOptions(t.response.data.error,t.response.data.message);ht(e)}).catch(function(t){console.error(t)});case 5:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),pt=function(){var t=Object(l.a)(B().mark(function t(){return B().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("".concat(W.apiBaseUrl,"/user/fetchFriends"),at).then(function(t){t&&t.data&&t.data.data&&i(t.data.data)}).catch(function(t){var e=_.getErrorToastrOptions(t.response.data.error,t.response.data.message);ht(e),it.push("/login"),_.logout()});case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),dt=function(){var t=Object(l.a)(B().mark(function t(){return B().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!K){t.next=3;break}return t.next=3,p.a.get("".concat(W.apiBaseUrl,"/chat/fetchChats"),at).then(function(t){if(t&&t.data&&t.data.data){var e=[];t.data.data.forEach(function(t){var r=t.members.find(function(t){return t!==V});e.push({chatId:t._id,chatWith:r})}),w(e)}}).catch(function(t){var e=_.getErrorToastrOptions(t.response.data.error,t.response.data.message);ht(e)});case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),mt=function(t){var e=t.chatId;Q(e),M(t.chatWith),K&&e&&U.emit("fetchMessages",t)},vt=function(t,e){e.preventDefault(),F(t)};return a.a.createElement(a.a.Fragment,null,a.a.createElement(G,{show:st.show,onHide:function(){ht(ct)},variant:st.variant,title:st.title,message:st.message}),a.a.createElement(g.a.Container,{id:"list-group-tabs"},a.a.createElement(y.a,{className:o&&o.length?"tabs g-1":"hide"},rt,a.a.createElement(v.a,{sm:4,style:{display:rt&&z?"none":"block"}},a.a.createElement(m.a,null,a.a.createElement(m.a.Item,null,a.a.createElement(m.a,{horizontal:!0},a.a.createElement(m.a.Item,{action:!0,onClick:function(t){return vt(1,t)}},"Chats"),a.a.createElement(m.a.Item,{action:!0,onClick:function(t){return vt(2,t)}},"Friends"))),1===T&&a.a.createElement("div",{className:"chats-tab"},d.map(function(t,e){return a.a.createElement(m.a.Item,{key:e,action:!0,href:t.chatWith,onClick:function(e){return function(t,e){e.preventDefault(),mt(t)}(t,e)}},a.a.createElement("img",{className:"rounded-circle",alt:"profile",src:r(125),width:"50px","data-holder-rendered":"true"}),a.a.createElement("span",{className:"mg-l10 word-wrap"},t.chatWith))})),2===T&&a.a.createElement("div",{className:"friends-tab"},o.map(function(t,e){return a.a.createElement(m.a.Item,{key:e,action:!0,href:t,onClick:function(e){return ft(t,e)}},a.a.createElement("img",{className:"rounded-circle",alt:"profile",src:r(125),width:"50px","data-holder-rendered":"true"}),a.a.createElement("span",{className:"mg-l10 word-wrap"},t))})))),a.a.createElement(v.a,{sm:8,style:{display:rt&&!z?"none":"block"}},z?null:a.a.createElement("h5",{className:"align-center"},"Choose a chat to start the conversation",a.a.createElement("span",{className:"emoji monkey",role:"img","aria-label":"monkey"})),a.a.createElement(g.a.Content,null,a.a.createElement(g.a.Pane,{eventKey:z},a.a.createElement(P,{chatId:J,chatWith:z,setSelectedChat:M,messages:x,setMessages:O,socket:U}))))),a.a.createElement("div",{className:o&&o.length?"hide":"container"},K?a.a.createElement("h5",null,"Hi there!"," ",a.a.createElement("span",{role:"img","aria-label":"wave",className:"wave"},"\ud83d\udc4b")," ","Welcome to TextMe!!! ",a.a.createElement("br",null),"Add your first friend to get the fun started."):a.a.createElement("h5",null,"Hi there!"," ",a.a.createElement("span",{role:"img","aria-label":"wave",className:"wave"},"\ud83d\udc4b")," ","Welcome to TextMe!!!"))))},z=r(76),M=r(108),Y=r(89),R=r(82),J=r(81),Q=r(134),q=r(83);r(181);function K(){K=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(d=v);var y=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,o,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,a,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var V=function(t){var e=Object(n.useContext)(H).setUpdatedFriends,r=Object(n.useState)(),o=Object(h.a)(r,2),i=o[0],c=o[1],u=_.getDefaultToastrOptions(),s=Object(n.useState)(u),f=Object(h.a)(s,2),d=f[0],v=f[1],y=function(){c(""),t.onHide()},g=function(){var t=Object(l.a)(K().mark(function t(r){var n,a,o;return K().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=_.getItemFromLocalStorage("access_token"),a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}},o={username:r},t.next=5,p.a.post("".concat(W.apiBaseUrl,"/user/addFriend"),o,a).then(function(t){if(t&&t.data){e(t.data.data);var r=_.getSuccessToastrOptions(t.data.message);v(r)}}).catch(function(t){console.log(t)});case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(G,{show:d.show,onHide:function(){v(u)},variant:d.variant,title:d.title,message:d.message}),a.a.createElement(q.a,{show:t.show,onHide:y},a.a.createElement(q.a.Header,{closeButton:!0},a.a.createElement(q.a.Title,null,"Add Friends")),a.a.createElement(q.a.Body,null,a.a.createElement(m.a,{className:i?"add-friend":""},a.a.createElement(m.a.Item,null,a.a.createElement(x.a,{className:"search"},a.a.createElement(b.a.Control,{type:"text",placeholder:"Search username...","aria-label":"Search username",onChange:function(t){return c(t.target.value)}}),a.a.createElement(w.a,{variant:"outline-secondary",id:"search",onClick:function(){c(i)}},a.a.createElement(j.a,null)))),t.users.filter(function(t){return i&&t.includes(i)}).map(function(t,e){return a.a.createElement(m.a.Item,{key:e,className:"users-list"},a.a.createElement("span",null,t),a.a.createElement(w.a,{variant:"primary",onClick:function(){return g(t)}},"Add"))}))),a.a.createElement(q.a.Footer,null,a.a.createElement(w.a,{variant:"secondary",onClick:y},"Close"))))};function X(){X=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(d=v);var y=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,o,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,a,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var Z=function(){var t=Object(n.useState)(!1),e=Object(h.a)(t,2),r=e[0],o=e[1],i=Object(n.useState)([]),c=Object(h.a)(i,2),s=c[0],f=c[1],d=Object(u.f)(),m=Object(n.useContext)(I),v=m.isLoggedIn,y=m.setIsLoggedIn,g=Object(n.useRef)(!0),E=_.getDefaultToastrOptions(),b=Object(n.useState)(E),x=Object(h.a)(b,2),j=x[0],k=x[1],S=JSON.parse(_.getItemFromLocalStorage("current_user")),N=function(){return[o(!0)]},C=function(){d.push("/login")},T=function(){d.push("/signup")},F=function(){y(!1),d.push("/login"),_.logout()};Object(n.useEffect)(function(){P()},[v]);var P=function(){var t=Object(l.a)(X().mark(function t(){var e,r;return X().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!v||!g.current){t.next=6;break}return g.current=!1,e=_.getItemFromLocalStorage("access_token"),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(e)}},t.next=6,p.a.get("".concat(W.apiBaseUrl,"/user/fetchAllUsers"),r).then(function(t){t&&t.data&&t.data.data&&f(t.data.data)}).catch(function(t){var e=_.getErrorToastrOptions(t.response.data.error,t.response.data.message);k(e)});case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,a.a.createElement(V,{show:r,users:s.length?s:[],onHide:function(){return[o(!1)]}}),a.a.createElement(G,{show:j.show,onHide:function(){k(E)},variant:j.variant,title:j.title,message:j.message}),["md"].map(function(t){return a.a.createElement(Y.a,{sticky:"top",bg:"primary",variant:"dark",key:t,expand:t},a.a.createElement(z.a,{fluid:!0},a.a.createElement(Y.a.Brand,{href:"#"},"TextMe"),v?a.a.createElement("div",null,a.a.createElement(O.a,{"aria-label":"Controls",style:{marginRight:"10px"}},a.a.createElement(w.a,{variant:"primary",onClick:N},a.a.createElement(Q.a,{size:28})),a.a.createElement(w.a,{variant:"primary"},a.a.createElement(L.b,{size:28})))):null,a.a.createElement(Y.a.Toggle,{"aria-controls":"offcanvasNavbar-expand-".concat(t)}),a.a.createElement(Y.a.Offcanvas,{id:"offcanvasNavbar-expand-".concat(t),"aria-labelledby":"offcanvasNavbarLabel-expand-".concat(t),placement:"end"},a.a.createElement(J.a.Header,{closeButton:!0},a.a.createElement(J.a.Title,{id:"offcanvasNavbarLabel-expand-".concat(t)},"Offcanvas")),a.a.createElement(J.a.Body,null,a.a.createElement(M.a,{className:"justify-content-end flex-grow-1 pe-3"},a.a.createElement(M.a.Link,{onClick:function(){return t="/",void d.push(t);var t}},"Home"),a.a.createElement(M.a.Link,null,"Contact Us"),v?a.a.createElement(R.a,{title:S.username,align:"end",id:"offcanvasNavbarDropdown-expand-".concat(t)},a.a.createElement(R.a.Item,null,"Update Profile"),a.a.createElement(R.a.Item,null,"Account Settings"),a.a.createElement(R.a.Divider,null),a.a.createElement(R.a.Item,{onClick:F},"Logout")):a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{variant:"primary",onClick:C},"Log in"),a.a.createElement(w.a,{variant:"light",onClick:T},"Sign up")))))))}))},$=r(113);r(111);function tt(){tt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(d=v);var y=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,o,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,a,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var et=function(){var t=Object(n.useState)("password"),e=Object(h.a)(t,2),r=e[0],o=e[1],i=Object(n.useState)(""),c=Object(h.a)(i,2),u=c[0],s=c[1],f=Object(n.useState)(),d=Object(h.a)(f,2),m=d[0],g=d[1],E=Object(n.useState)(),O=Object(h.a)(E,2),L=O[0],j=O[1],k=Object(n.useState)(),S=Object(h.a)(k,2),N=S[0],I=S[1],C=Object(n.useState)(),T=Object(h.a)(C,2),F=T[0],P=T[1],H=_.getDefaultToastrOptions(),A=Object(n.useState)(H),B=Object(h.a)(A,2),U=B[0],D=B[1],M=function(){var t=Object(l.a)(tt().mark(function t(e){var r,n;return tt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),m&&L){t.next=6;break}r=_.getErrorToastrOptions("Error","Username or Password can't be empty"),D(r),t.next=9;break;case 6:return n={"Content-type":"application/json"},t.next=9,p.a.post("".concat(W.apiBaseUrl,"/user/signup"),{username:m,password:L,securityQ:N,securityA:F},n).then(function(t){var e=_.getSuccessToastrOptions(t.data.message);D(e)}).catch(function(t){var e=_.getErrorToastrOptions(t.response.data.error,t.response.data.message);D(e)});case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(z.a,null,a.a.createElement(G,{show:U.show,onHide:function(){D(H)},variant:U.variant,title:U.title,message:U.message}),a.a.createElement(y.a,null,a.a.createElement(v.a,{className:"container d-inline-flex align-items-center justify-content-center"},a.a.createElement(b.a,null,a.a.createElement(b.a.Group,{className:"mb-3",controlId:"username"},a.a.createElement(b.a.Label,null,"Username"),a.a.createElement(b.a.Control,{type:"text",placeholder:"Enter Username",onChange:function(t){return g(t.target.value)}}),a.a.createElement(b.a.Text,{id:"usernameHelp",muted:!0},"Username should be unique")),a.a.createElement(b.a.Group,{className:"mb-3",controlId:"password"},a.a.createElement(b.a.Label,null,"Password"),a.a.createElement(x.a,null,a.a.createElement(b.a.Control,{type:r,onChange:function(t){s(t.target.value),j(t.target.value)},value:u,placeholder:"Password"}),a.a.createElement(w.a,{variant:"outline-secondary",id:"search",onClick:function(){o("password"===r?"text":"password")}},"password"===r?a.a.createElement($.b,null):a.a.createElement($.a,null)))),a.a.createElement(b.a.Group,{className:"mb-1",controlId:"securityQ"},a.a.createElement(b.a.Label,{style:{paddingRight:"2px"}},"Select a security question"),a.a.createElement(b.a.Text,{id:"passwordResetHelp",muted:!0},"(This will be used for password recovery)"),a.a.createElement(b.a.Select,{className:"mb-2","aria-label":"Security Question",onChange:function(t){return I(t.target.value)}},a.a.createElement("option",{selected:"true",disabled:"true"},"Open this select menu"),[{value:1,label:"What was your childhood nickname?"},{value:2,label:"In what city did you meet your spouse/significant other?"},{value:3,label:"What is the name of your favorite childhood friend?"},{value:4,label:"What was the last name of your favorite childhood teacher?"},{value:5,label:"What is the name of your youngest child?"},{value:6,label:"What is your sibling\u2019s birthday month and year?"},{value:7,label:"What school did you attend for sixth grade?"},{value:8,label:"What was the name of your first stuffed animal?"},{value:9,label:"In what city or town did your mother and father meet?"},{value:10,label:"What was your childhood phone number including area code?"},{value:11,label:"Where were you when you had your first kiss?"},{value:12,label:"What is the name of the place your wedding reception was held?"},{value:13,label:"What time of the day were you born?"},{value:14,label:"What are the last 4 digits of your credit/debit card?"},{value:15,label:"What is your grandmother's first name?"},{value:16,label:"What year did you graduate from High School?"}].map(function(t,e){return a.a.createElement("option",{key:e,value:t.value},t.label)}))),a.a.createElement(b.a.Group,{className:"mb-3",controlId:"securityA"},a.a.createElement(b.a.Control,{type:"text",placeholder:"Answer",onChange:function(t){return P(t.target.value)}})),a.a.createElement(w.a,{variant:"primary",type:"Submit",onClick:M},"Signup")))))};function rt(){rt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var a=e&&e.prototype instanceof h?e:h,o=Object.create(a.prototype),i=new O(n||[]);return o._invoke=function(t,e,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),o}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=u;var s={};function h(){}function f(){}function p(){}var d={};c(d,a,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(L([])));v&&v!==e&&r.call(v,a)&&(d=v);var y=p.prototype=h.prototype=Object.create(d);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(a,o){function i(){return new e(function(n,i){!function n(a,o,i,c){var u=l(t[a],t,o);if("throw"!==u.type){var s=u.arg,h=s.value;return h&&"object"==typeof h&&r.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(h).then(function(t){s.value=t,i(s)},function(t){return n("throw",t,i,c)})}c(u.arg)}(a,o,n,i)})}return n=n?n.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return s;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,s;var a=n.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,s):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,s)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=p,c(y,"constructor",p),c(p,"constructor",f),f.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(w.prototype),c(w.prototype,o,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new w(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,a,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),s},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},t}var nt=function(){var t=Object(n.useState)(),e=Object(h.a)(t,2),r=e[0],o=e[1],i=Object(n.useState)(),c=Object(h.a)(i,2),s=c[0],f=c[1],d=Object(n.useContext)(I).setIsLoggedIn,m=_.getDefaultToastrOptions(),g=Object(n.useState)(m),E=Object(h.a)(g,2),x=E[0],O=E[1],L=Object(u.f)(),j=function(){var t=Object(l.a)(rt().mark(function t(e){var n,a;return rt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),r&&s){t.next=6;break}n=_.getErrorToastrOptions("Error","Username or Password can't be empty"),O(n),t.next=9;break;case 6:return a={headers:{"Content-type":"application/json"}},t.next=9,p.a.post("".concat(W.apiBaseUrl,"/user/login"),{username:r,password:s},a).then(function(t){t.data.data&&(_.setItemToLocalStorage("access_token",t.data.data.access_token),_.setItemToLocalStorage("current_user",JSON.stringify(t.data.data.current_user)),_.setItemToLocalStorage("isLoggedIn",!0),d(!0),L.push("/chats"))}).catch(function(t){var e=_.getErrorToastrOptions(t.response.data.error,t.response.data.message);O(e)});case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();return a.a.createElement(z.a,null,a.a.createElement(G,{show:x.show,onHide:function(){O(m)},variant:x.variant,title:x.title,message:x.message}),a.a.createElement(y.a,null,a.a.createElement(v.a,{className:"container d-inline-flex align-items-center justify-content-center"},a.a.createElement(b.a,{style:{width:"20em"}},a.a.createElement(b.a.Group,{className:"mb-3",controlId:"username"},a.a.createElement(b.a.Label,null,"Username"),a.a.createElement(b.a.Control,{type:"text",placeholder:"Enter username",onChange:function(t){return o(t.target.value)}})),a.a.createElement(b.a.Group,{className:"mb-3",controlId:"password"},a.a.createElement(b.a.Label,null,"Password"),a.a.createElement(b.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return f(t.target.value)}})),a.a.createElement(w.a,{variant:"primary",type:"Submit",onClick:j},"Login")))))},at=r(135);function ot(){var t=Object(n.useContext)(I).isLoggedIn,e=Object(u.f)();return a.a.createElement("div",{className:"container"},t?a.a.createElement("h5",null,"Hi there!"," ",a.a.createElement("span",{role:"img","aria-label":"wave",className:"wave"},"\ud83d\udc4b")," ","Welcome to TextMe!!! ",a.a.createElement("br",null),a.a.createElement(w.a,{variant:"primary",className:"mt-3",onClick:function(){e.push("/chats")}},"Go to Chats ",a.a.createElement(at.a,null))):a.a.createElement("h5",null,"Hi there!"," ",a.a.createElement("span",{role:"img","aria-label":"wave",className:"wave"},"\ud83d\udc4b")," ","Welcome to TextMe!!!"))}var it=function(){return a.a.createElement(A,null,a.a.createElement(c.a,null,a.a.createElement(Z,null),a.a.createElement(u.c,null,a.a.createElement(u.a,{exact:!0,path:"/",component:ot},a.a.createElement(ot,null)),a.a.createElement(u.a,{exact:!0,path:"/signup",component:et},a.a.createElement(et,null)),a.a.createElement(u.a,{exact:!0,path:"/login",component:nt},a.a.createElement(nt,null)),a.a.createElement(u.a,{exact:!0,path:"/chats",component:D},a.a.createElement(D,null)))))};r(186);i.a.createRoot(document.getElementById("root")).render(a.a.createElement(C,null,a.a.createElement(it,null)))}},[[139,2,1]]]);
//# sourceMappingURL=main.a6e03198.chunk.js.map